# フロントエンド ディレクトリ構造ドキュメント

このドキュメントでは、Webアプリケーションのディレクトリ構造と各ディレクトリの役割について説明します。

## 関連ドキュメント

- [技術スタック](./TECHNOLOGY_STACK.md) - 使用技術の概要
- [アーキテクチャ](./ARCHITECTURE.md) - システム設計
- [開発ワークフロー](./DEVELOPMENT.md) - 開発プロセス
- [テスト戦略](./TESTING.md) - テスト実装（作成予定）
- [デプロイメント](./DEPLOYMENT.md) - デプロイ戦略（作成予定）

## ディレクトリ構造

```md
├── src/
│   │
│   ├── app/
│   │   ├── layout.tsx
│   │   │   └── (どんな思想で) Next.js App Routerのルートレイアウトを定義し、全ページ共通の構造を管理する
│   │   │   └── (何を書くべき) HTMLの基本構造、グローバルなプロバイダー、共通メタデータ
│   │   │   └── (何を書くべきでない) 特定のページに依存するロジックやコンポーネント
│   │   │
│   │   ├── page.tsx
│   │   │   └── (どんな思想で) ルートページ（/）のコンポーネントを定義する
│   │   │   └── (何を書くべき) ルートページの表示内容
│   │   │   └── (何を書くべきでない) 他のページのロジックや共通レイアウト
│   │   │
│   │   ├── globals.css
│   │   │   └── (どんな思想で) アプリケーション全体で適用されるグローバルスタイルを定義する
│   │   │   └── (何を書くべき) リセットCSS、基本的なタイポグラフィ、Tailwindのベーススタイル
│   │   │   └── (何を書くべきでない) 特定のコンポーネントに依存するスタイル
│   │   |
│   │   ├── [domain]/
│   │   │   ├── page.tsx
│   │   │   │   └── (どんな思想で) Next.js App Routerの必須ファイルとして、各ドメインページのエントリーポイントを定義する
│   │   │   │   └── (何を書くべき) Container コンポーネントのインポートと呼び出しのみ
│   │   │   │   └── (何を書くべきでない) UI ロジック、データフェッチング、ビジネスロジック
│   │   │   │
│   │   │   ├── container.tsx
│   │   │   │   └── (どんな思想で) React Server Component として、ドメイン固有のサーバーサイド処理を担当する
│   │   │   │   └── (何を書くべき) ドメインデータのフェッチング、認証チェック、Presenter への props 渡し
│   │   │   │   └── (何を書くべきでない) クライアントサイドのインタラクション、フォーム処理
│   │   │   |
│   │   │   └── presenter.tsx
│   │   │       └── (どんな思想で) Client Component として、ドメイン固有の UI とインタラクションを担当する
│   │   │       └── (何を書くべき) フォーム、ボタンクリック、モーダル、クライアントサイドバリデーション
│   │   │       └── (何を書くべきでない) データフェッチング、サーバーサイドバリデーション
│   │   │
│   │   └── api/
│   │       └── auth/
│   │           └── [...nextauth]/
│   │               └── route.ts
│   │                   └── (どんな思想で) NextAuth.jsの認証エンドポイントを定義し、OAuth認証フローを管理する
│   │                   └── (何を書くべき) 認証プロバイダー設定、認証コールバック処理、セッション管理
│   │                   └── (何を書くべきでない) ユーザー固有のビジネスロジックや直接的なデータベース操作
│   │
│   ├── features/
│   │   └── [domain]/
│   │       ├── hooks/
│   │       │   └── (どんな思想で) ドメイン固有のカスタムフックを定義し、ドメイン内で共有されるロジックを管理する
│   │       │   └── (何を書くべき) ドメイン固有の状態管理、API呼び出し、副作用処理、フォームバリデーション
│   │       │   └── (何を書くべきでない) UI コンポーネント、JSX、他ドメインのロジック
│   │       │
│   │       ├── actions/
│   │       │   └── (どんな思想で) ドメイン固有のServer Actionsを定義し、サーバーサイドでのデータ変更処理を管理する
│   │       │   └── (何を書くべき) フォーム送信処理、データベース更新、API呼び出し、サーバーサイドバリデーション
│   │       │   └── (何を書くべきでない) クライアントサイドのロジック、UI コンポーネント、他ドメインの処理
│   │       │
│   │       ├── types/
│   │       │   └── (どんな思想で) ドメイン固有の型定義を管理し、ドメイン内の型安全性を確保する
│   │       │   └── (何を書くべき) ドメインモデル、API レスポンス型、ドメイン固有のインターフェース
│   │       │   └── (何を書くべきでない) 他ドメインの型、グローバルな型定義
│   │       │
│   │       └── constants/
│   │           └── (どんな思想で) ドメイン固有の定数値を管理し、ドメイン内での一貫性を確保する
│   │           └── (何を書くべき) ドメイン固有のAPI URL、固定値、設定値
│   │           └── (何を書くべきでない) グローバルな定数、他ドメインの設定値
│   │
│   ├── components/
│   │   └── elements/
│   │       └── [ComponentName]/
│   │           ├── [ComponentName].tsx
│   │           │   └── (どんな思想で) 再利用可能なUIコンポーネントを定義し、特定の機能を提供する
│   │           │   └── (何を書くべき) コンポーネントのTSX、props定義、イベントハンドラー、スタイリング
│   │           │   └── (何を書くべきでない) 外部データフェッチング、グローバル状態の直接操作
│   │           │
│   │           └── [ComponentName].stories.tsx
│   │               └── (どんな思想で) Storybookでコンポーネントの使用例とバリエーションを管理する
│   │               └── (何を書くべき) コンポーネントの使用例、プロパティのバリエーション、インタラクション例
│   │               └── (何を書くべきでない) 実際のアプリケーションロジックやデータ処理
│   │
│   ├── config/
│   │   └── auth.config.ts
│   │       └── (どんな思想で) NextAuth.jsの設定を管理し、認証プロバイダーやセッション設定を定義する
│   │       └── (何を書くべき) 認証プロバイダー設定、コールバックURL、セッション設定
│   │       └── (何を書くべきでない) 個別のページの認証ロジックやユーザー固有の処理
│   │
│   ├── constants/
│   │     └── (どんな思想で) アプリケーション全体で使用される定数値を一元管理し、型安全性を確保する
│   │     └── (何を書くべき) 環境変数の型定義、グローバルAPI URL、アプリケーション全体の固定値
│   │     └── (何を書くべきでない) ドメイン固有の定数、動的に変更される値
│   │
│   ├── libs/
│   │     └── (どんな思想で) アプリケーション全体で使用されるユーティリティ関数やヘルパーを提供する
│   │     └── (何を書くべき) 汎用的なユーティリティ関数、日付関連の処理、文字列操作
│   │     └── (何を書くべきでない) ドメイン固有のロジック、UI コンポーネント
│   │
│   ├── types/
│   │     └── (どんな思想で) アプリケーション全体で使用される型定義を管理し、TypeScriptの型安全性を確保する
│   │     └── (何を書くべき) 外部ライブラリの型拡張、グローバルな型定義、共通インターフェース
│   │     └── (何を書くべきでない) ドメイン固有の型定義
│   │
│   └── stories/
│       └── antd/
│           └── (どんな思想で) Ant Designコンポーネントのストーリーを管理し、UIカタログを提供する
│           └── (何を書くべき) コンポーネントの使用例、プロパティのバリエーション、インタラクション例
│           └── (何を書くべきでない) 実際のアプリケーションロジックやデータ処理
│
├── public/
│   └── (どんな思想で) 静的ファイルを配置し、ブラウザから直接アクセス可能なリソースを管理する
│   └── (何を書くべき) アイコン、画像、favicon、ロボット.txt
│   └── (何を書くべきでない) 動的に生成されるファイルや機密情報
│
├── .storybook/
│   ├── main.ts
│   │   └── (どんな思想で) Storybookの基本設定を管理し、アドオンやビルド設定を定義する
│   │   └── (何を書くべき) ストーリーファイルの場所、アドオン設定、Webpack設定
│   │   └── (何を書くべきでない) 個別のストーリーの内容やコンポーネント実装
│   │
│   ├── preview.tsx
│   │   └── (どんな思想で) Storybookのプレビュー環境を設定し、グローバルなデコレーターを管理する
│   │   └── (何を書くべき) グローバルスタイル、プロバイダー、デフォルトパラメータ
│   │   └── (何を書くべきでない) 個別のストーリー定義やコンポーネントロジック
│   │
│   └── vitest.setup.ts
│       └── (どんな思想で) Storybook環境でのテスト設定を管理する
│       └── (何を書くべき) テスト環境の初期化、モック設定、グローバルセットアップ
│       └── (何を書くべきでない) 個別のテストケースや実装コード
│
├── next.config.ts
│   └── (どんな思想で) Next.jsの設定を管理し、ビルドやランタイムの動作を制御する
│   └── (何を書くべき) ビルド設定、リダイレクト、環境変数設定
│   └── (何を書くべきでない) アプリケーションロジックやコンポーネント定義
│
├── tsconfig.json
│   └── (どんな思想で) TypeScriptの設定を管理し、型チェックとコンパイルオプションを定義する
│   └── (何を書くべき) コンパイラオプション、パスマッピング、型チェック設定
│   └── (何を書くべきでない) 実装コードや実行時の設定
│
├── vitest.config.ts
│   └── (どんな思想で) Vitestのテスト設定を管理し、テスト環境を構築する
│   └── (何を書くべき) テストファイルの場所、カバレッジ設定、テスト環境設定
│   └── (何を書くべきでない) 個別のテストケースや実装コード
│
├── postcss.config.mjs
│   └── (どんな思想で) PostCSSの設定を管理し、CSS処理パイプラインを定義する
│   └── (何を書くべき) Tailwind CSS設定、CSS変換ルール、プラグイン設定
│   └── (何を書くべきでない) 個別のスタイル定義やコンポーネントCSS
```

## Container/Presentational パターンの基本構造

[ComponentName]/
├── page.tsx       # Next.js App Router の必須ファイル
├── container.tsx  # ロジック層（ReactServerComponent）
└── presenter.tsx  # UI 層（Client Component）
